你的诊所病历系统（Flutter 桌面版，Windows，UI 原型）需求总结
基本

使用 Flutter 最新版本，目标平台是 Windows 桌面。

只做 UI 原型（先不接功能、数据库），能正常切换和展示界面。

窗口禁止缩放，固定大小（示例 1280×800，使用 window_manager 控制）。

整体结构

主界面分成 四个 Tab 页面（顶部 TabBar 切换）：

门诊

药房

理疗

模板

1. 门诊页面

三栏布局：左侧患者栏 / 中间门诊病历 / 右侧历史记录。

患者栏：

默认显示「正在接诊（固定显示）」和「当天完成接诊」。

患者用 姓名+手机号唯一标识。

提供「选择时间段」按钮筛选历史完成接诊患者。

门诊病历栏（分区卡片）：

患者基本信息（姓名、年龄、性别、住址、过敏史、既往史、备注、电话）

就诊信息（主诉、现病史、临床诊断、中医诊断、备注）

处方

三类：中医处方 / 理疗处方 / 西医处方。

可弹出对话框添加、修改、删除。

多个处方逐条显示。

医嘱

可逐条添加、修改、删除。

就诊日志（多行文本框）

历史记录栏：

可按时间范围筛选。

点击某条历史记录 → 弹窗显示详情，并支持「复制处方/医嘱到当前就诊」。

2. 药房页面

左边：药品录入表单

分类：

中药 → 分「饮片」「中成药」

西药 → 分「吃药」「输液」

耗材

字段：药材名/名称、剂型/规格、单位、库存、进价、卖价、推荐用量、默认用法、备注。

右边：药房库存表

DataTable 显示药品信息。

可根据分类自动显示筛选标签。

需要支持横向滚动，避免溢出。

3. 理疗页面

三栏布局：左侧待消次 / 中间管理 / 右侧消次记录。

待消次（左栏）：

单项目患者列表（显示剩余次数 + 按钮“消一次”）

套餐患者列表（显示套餐内每个项目剩余次数）

中间管理栏：

上：理疗项目（项目名、价格、备注，可新增/编辑/删除）

下：理疗套餐（由多个项目组成，次数不同，可新增/编辑/删除）

右侧消次记录：

SegmentedButton 切换「单项目 / 套餐」记录。

提供「时间范围筛选」。

列表显示消次详情。

4. 模板页面

管理 处方模板。

模板项：标题 + 内容。

支持新增、编辑、删除。

网格展示模板卡片。

其他要求

所有表单字段和变量名，使用 拼音命名，方便你阅读理解。

页面/模块已拆分为多个文件：

main.dart（入口 + Tab）

common/common_widgets.dart（公共部件）

pages/outpatient_page.dart（门诊）

pages/pharmacy_page.dart（药房）

pages/therapy_page.dart（理疗）

pages/template_page.dart（模板）